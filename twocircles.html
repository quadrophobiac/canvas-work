<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Two Circles in Orbit</title>
    <style>
        body{
            margin: 0px;
            padding: 0px;
        }
        #myCanvas {
            border: 1px #CCC solid;
            background-color: rgba(158, 167, 184, 0.2);
        }

        #staticCircle{
            color: rgb(0,153,255);
        }

        #movingOmmission{
            color: rgb(49, 255, 80);
        }

    </style>

</head>
<body>

<div id="container">
    <canvas id="myCanvas" width="600" height="300">

    </canvas>
</div>

<script>

    var mainCanvas = document.getElementById("myCanvas");
    var mainContext = mainCanvas.getContext('2d');
    mainContext.strokeStyle = 'rgb(0,153,255)'; // circles to have same stroke stlye for now
    // this is an 'access API call'

//    mainContext.globalCompositeOperation = 'destination-in';

    var orbits = new Array();

    var requestAnimationFrame = window.requestAnimationFrame ||
            window.mozRequestAnimationFrame ||
            window.webkitRequestAnimationFrame ||
            window.msRequestAnimationFrame;
    // above must be fallbacks dependant on which browser will be used

    function orbit() {

    }

    function Circle(xPos){
        this.yPos = 150; // hardcoded because of canvas size
        this.width = 105; // hardcoded param
        this.counter = 0; // counter is an internal value that we can use to modulate other params

        this.xPos = xPos;
    }

    Circle.prototype.draw = function(){
        // abstracting the canvas rendering methods into this function

        this.counter += 0.05;

        var startAngle;
        var endAngle;

        mainContext.beginPath();
        mainContext.arc(
                this.xPos,
                this.yPos,
                this.width,
                Math.PI*(0.00+this.counter),// start angle,
                Math.PI*1.95,// end angle
                false
        );
        mainContext.stroke();
        mainContext.closePath();
    }

    function circleTest(){
        // will render a simple circle fitting the canvas with a chunk of its stroke missing
        mainContext.clearRect(0,0,600,300);
        mainContext.beginPath();
        mainContext.arc(
                150,
                150,
                105,
                Math.PI*0.00,// start angle,
                Math.PI*1.95,// end angle
                false
        );

        mainContext.stroke();
        mainContext.closePath();

    }
    createCircles();
//    circleTest();
//    draw();


    function createCircles(){
        var orbit1 = new Circle(150);
        var orbit2 = new Circle(350);
        orbits.push(orbit1, orbit2);
        console.log(orbits.length);
        draw();
    }

    function draw(){
        // function that calls itself, triggering animation
        mainContext.clearRect(0,0,600,300);
        // insert x axis movement loop here
//        for(each in all Circles){
//            each.Circle.draw();
//        }
        for(i = 0; i < orbits.length; i++){
            var theOrbit = orbits[i];
            theOrbit.draw();
//            console.log(i);
        }
        requestAnimationFrame(draw);
    }

    /* I want to draw an arc that creates the line outline of a circle
    * convention for this is that the params for arc:
    * start angle = 0
    * end angle = Math.PI*2 : however 360 also works
    * , to achieve effect of chunk missing from arc, you can do Math.PI*2
    * initial param can also be wrttien Math.PI*0,Math.PI*1.95
    * */

</script>

</body>
</html>